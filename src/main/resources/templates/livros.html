<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Livros</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body style="font-family: Arial, sans-serif; background-color: #f8f9fa; margin: 0; padding: 0;">
    <div th:replace="~{fragments/cabecalho :: cabecalho}"></div>

    <div class="container" style="padding: 20px;">
        <h1 style="margin-top: 20px; text-align: center; font-size: 2rem; color: #333;">Lista de Livros</h1>
        <table class="table table-hover"
            style="margin-top: 20px; font-size: 1.1rem; background-color: #fff; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <thead>
                <tr>
                    <th style="background-color: #115c53; color: white; text-align: center;">ID</th>
                    <th style="background-color: #115c53; color: white; text-align: center;">Título</th>
                    <th style="background-color: #115c53; color: white; text-align: center;">Autor</th>
                    <th style="background-color: #115c53; color: white; text-align: center;">Ações</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="livro : ${livros}">
                    <td th:text="${livro.id}" style="vertical-align: middle; text-align: center;"></td>
                    <td th:text="${livro.nome}" style="vertical-align: middle; text-align: center;"></td>
                    <td th:text="${livro.autor?.nome}" style="vertical-align: middle; text-align: center;"></td>
                    <td style="text-align: center;">
                        <a th:href="@{'/livros/formulario?id=' + ${livro.id}}" class="text-warning"
                            style="font-size: 1.5rem; margin: 0 10px;">
                            <i class="fas fa-edit"></i>
                        </a>
                        <a th:href="@{'/livros/excluir/' + ${livro.id}}" class="text-danger"
                            style="font-size: 1.5rem; margin: 0 10px;">
                            <i class="fas fa-trash-alt"></i>
                        </a>
                    </td>
                </tr>
                <tr th:if="${livros.size() == 0}">
                    <td colspan="4" class="text-center" style="font-size: 1rem; color: #666;">Nenhum livro encontrado.
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- Navegação -->
        <div class="pagination"
            style="display: flex; justify-content: left; align-items: center; gap: 20px; margin-top: 20px;">
            <a th:href="@{'/livros?page=' + ${currentPage - 1}}" th:disabled="${currentPage == 1}"
                class="btn btn-primary" style="padding: 10px 20px; text-decoration: none;">Anterior</a>
            <span th:text="'Página ' + ${currentPage} + ' de ' + ${totalPages}"
                style="font-size: 16px; font-weight: bold; color: #333;"></span>
            <a th:href="@{'/livros?page=' + ${currentPage + 1}}" th:disabled="${currentPage == totalPages}"
                class="btn btn-primary" style="padding: 10px 20px; text-decoration: none;">Próxima</a>
        </div>


        <a href="/livros/formulario" class="btn btn-success"
            style="margin-top: 20px; display: block; width: fit-content; font-size: 1.1rem;">
            <i class="fas fa-plus"></i> Adicionar Livro
        </a>
    </div>

    <div th:replace="~{fragments/rodape :: rodape}"></div>
</body>

</html>